(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{34:function(t,e,c){},59:function(t,e,c){"use strict";c.r(e);var n=c(1),s=c.n(n),a=c(28),r=c.n(a),l=(c(34),c(11)),o=c(2),i=c(10),j=c(0),b=function(){return Object(j.jsx)("nav",{children:Object(j.jsxs)("ul",{className:"nav nav-tabs",children:[Object(j.jsx)("li",{className:"nav-item pr-3 pt-3 pb-3",children:Object(j.jsx)(l.b,{to:"/",children:"Home"})}),Object(j.jsx)("li",{className:"nav-item pr-3 pt-3 pb-3",children:Object(j.jsx)(l.b,{to:"/create",children:"Create"})})]})})},u=c(9),d=c.n(u),h=function(){var t=Object(n.useState)([]),e=Object(i.a)(t,2),c=e[0],s=e[1],a=function(){d.a.get("".concat("http://localhost:8000/api","/posts")).then((function(t){console.log(t),s(t.data)})).catch((function(t){return alert("Error fetching posts")}))};Object(n.useEffect)((function(){a()}),[]);var r=function(t){d.a.delete("".concat("http://localhost:8000/api","/post/").concat(t)).then((function(t){alert(t.data.message),a()})).catch((function(t){return alert("Error deleting post")}))};return Object(j.jsxs)("div",{className:"container pb-5",children:[Object(j.jsx)(b,{}),Object(j.jsx)("br",{}),Object(j.jsx)("h1",{children:"MERN CRUD"}),Object(j.jsx)("br",{}),c.map((function(t,e){return Object(j.jsx)("div",{className:"row",style:{borderBottom:"1px solid silver"},children:Object(j.jsx)("div",{className:"col pt-3 pb-2",children:Object(j.jsxs)("div",{className:"row",children:[Object(j.jsxs)("div",{className:"col-md-10",children:[Object(j.jsx)(l.b,{to:"/post/".concat(t.slug),children:Object(j.jsx)("h2",{children:t.title})}),Object(j.jsx)("p",{className:"lead",children:t.content.substring(0,100)}),Object(j.jsxs)("p",{children:["Author ",Object(j.jsx)("span",{className:"badge",children:t.user})," Published on","",Object(j.jsx)("span",{className:"badge",children:new Date(t.createdAt).toLocaleString()})]})]}),Object(j.jsxs)("div",{className:"col-md-2",children:[Object(j.jsx)(l.b,{to:"/post/update/".concat(t.slug),className:"btn btn-sm btn-outline-warning",children:"Update"}),Object(j.jsx)("button",{onClick:function(){return e=t.slug,void(window.confirm("Are you sure you want to delete this post?")&&r(e));var e},className:"btn btn-sm btn-outline-danger ml-1",children:"Delete"})]})]})})},t._id)})),Object(j.jsx)("br",{})]})},p=c(13),O=c(7),x=function(){var t=Object(n.useState)({title:"",content:"",user:""}),e=Object(i.a)(t,2),c=e[0],s=e[1],a=c.title,r=c.content,l=c.user,o=function(t){return function(e){s(Object(O.a)(Object(O.a)({},c),{},Object(p.a)({},t,e.target.value)))}};return Object(j.jsxs)("div",{className:"container pb-5",children:[Object(j.jsx)(b,{}),Object(j.jsx)("br",{}),Object(j.jsx)("h1",{children:"CREATE POST"}),Object(j.jsxs)("form",{onSubmit:function(t){t.preventDefault(),d.a.post("".concat("http://localhost:8000/api","/post"),{title:a,content:r,user:l}).then((function(t){console.log(t),s(Object(O.a)(Object(O.a)({},c),{},{title:"",content:"",user:""})),alert("Post titled ".concat(t.data.title," is created"))})).catch((function(t){console.log(t.response),alert(t.response.data.error)}))},children:[Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{className:"text-muted",children:"Title"}),Object(j.jsx)("input",{onChange:o("title"),value:a,type:"text",className:"form-control",placeholder:"Post title",required:!0})]}),Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{className:"text-muted",children:"Content"}),Object(j.jsx)("textarea",{onChange:o("content"),value:r,type:"text",className:"form-control",placeholder:"Post title",required:!0})]}),Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{className:"text-muted",children:"User"}),Object(j.jsx)("input",{onChange:o("user"),value:l,type:"text",className:"form-control",placeholder:"Post title",required:!0})]}),Object(j.jsx)("div",{children:Object(j.jsx)("button",{className:"btn btn-primary",children:"Create"})})]})]})},m=function(t){var e=Object(n.useState)(""),c=Object(i.a)(e,2),s=c[0],a=c[1];return Object(n.useEffect)((function(){d.a.get("".concat("http://localhost:8000/api","/post/").concat(t.match.params.slug)).then((function(t){return a(t.data)})).catch((function(t){return alert("Error loading single post")}))}),[]),Object(j.jsxs)("div",{className:"container pb-5",children:[Object(j.jsx)(b,{}),Object(j.jsx)("br",{}),Object(j.jsx)("h1",{children:s.title}),Object(j.jsx)("p",{className:"lead",children:s.content}),Object(j.jsxs)("p",{children:["Author ",Object(j.jsx)("span",{className:"badge",children:s.user})," Published on","",Object(j.jsx)("span",{className:"badge",children:new Date(s.createdAt).toLocaleString()})]})]})},f=function(t){var e=Object(n.useState)({title:"",content:"",slug:"",user:""}),c=Object(i.a)(e,2),s=c[0],a=c[1],r=s.title,l=s.content,o=s.slug,u=s.user;Object(n.useEffect)((function(){d.a.get("".concat("http://localhost:8000/api","/post/").concat(t.match.params.slug)).then((function(t){var e=t.data,c=e.title,n=e.content,r=e.slug,l=e.user;a(Object(O.a)(Object(O.a)({},s),{},{title:c,content:n,slug:r,user:l}))})).catch((function(t){return alert("Error updating post")}))}),[]);var h=function(t){return function(e){a(Object(O.a)(Object(O.a)({},s),{},Object(p.a)({},t,e.target.value)))}},x=function(t){t.preventDefault(),d.a.put("".concat("http://localhost:8000/api","/post/").concat(o),{title:r,content:l,user:u}).then((function(t){console.log(t);var e=t.data,c=e.title,n=e.content,r=(e.slug,e.user);a(Object(O.a)(Object(O.a)({},s),{},{title:c,content:n,user:r})),alert("Post titled ".concat(c," is updated"))})).catch((function(t){console.log(t.response),alert(t.response.data.error)}))};return Object(j.jsxs)("div",{className:"container pb-5",children:[Object(j.jsx)(b,{}),Object(j.jsx)("br",{}),Object(j.jsx)("h1",{children:"UPDATE POST"}),Object(j.jsxs)("form",{onSubmit:x,children:[Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{className:"text-muted",children:"Title"}),Object(j.jsx)("input",{onChange:h("title"),value:r,type:"text",className:"form-control",placeholder:"Post title",required:!0})]}),Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{className:"text-muted",children:"Content"}),Object(j.jsx)("textarea",{onChange:h("content"),value:l,type:"text",className:"form-control",placeholder:"Post title",required:!0})]}),Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{className:"text-muted",children:"User"}),Object(j.jsx)("input",{onChange:h("user"),value:u,type:"text",className:"form-control",placeholder:"Post title",required:!0})]}),Object(j.jsx)("div",{children:Object(j.jsx)("button",{className:"btn btn-primary",children:"Update"})})]})]})},g=function(){return Object(j.jsx)(l.a,{children:Object(j.jsxs)(o.c,{children:[Object(j.jsx)(o.a,{path:"/",exact:!0,component:h}),Object(j.jsx)(o.a,{path:"/create",exact:!0,component:x}),Object(j.jsx)(o.a,{path:"/post/:slug",exact:!0,component:m}),Object(j.jsx)(o.a,{path:"/post/update/:slug",exact:!0,component:f})]})})};r.a.render(Object(j.jsx)(s.a.StrictMode,{children:Object(j.jsx)(g,{})}),document.getElementById("root"))}},[[59,1,2]]]);
//# sourceMappingURL=main.0f18f76c.chunk.js.map